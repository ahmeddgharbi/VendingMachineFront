{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ghaahm\\\\frontend\\\\src\\\\Components\\\\pages\\\\UpdateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from \"react\";\nimport { ProductContext, UserContext } from \"../../App\";\nimport { Form } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UpdateProduct = props => {\n  _s();\n\n  const proId = props.productId;\n  const [theProduct, setTheProduct] = useState({});\n  const [user, setUser] = useContext(UserContext);\n  const [products, setProducts] = useContext(ProductContext);\n  console.log(proId);\n\n  const handleOnUpdateProduct = e => {\n    e.preventDefault();\n    const name = document.getElementById(\"pname\").value;\n    const cost = document.getElementById(\"pcost\").value;\n    const amount = document.getElementById(\"pamount\").value;\n    const newProduct = {\n      productName: name,\n      cost: cost,\n      amountAvailable: amount,\n      sellerId: user._id\n    }; //update in local\n\n    const prd = [...products];\n    const objIndex = prd.findIndex(obj => obj._id === proId);\n    console.log(objIndex);\n    prd[objIndex].productName = name;\n    prd[objIndex].cost = cost;\n    prd[objIndex].amountAvailable = amount;\n    console.log(prd);\n    setProducts(prd); //update in server\n\n    const requestOptions = {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newProduct)\n    };\n    fetch(`http://localhost:3005/api/products/update/${proId}`, requestOptions).then(response => response.json()).then(data => console.log(data));\n    alert('Product Updated Successfully');\n    document.getElementById('productTable').style.display = 'block';\n    document.getElementById('updateProductForm').style.display = 'none';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Update Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      id: \"registrationForm\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Product Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          id: \"pname\",\n          type: \"text\",\n          required: true,\n          value: theProduct.productName,\n          placeholder: \"Pencil Box\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Product Cost\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          id: \"pcost\",\n          placeholder: \"10\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Available Amount\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          id: \"pamount\",\n          placeholder: \"10\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3 \",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => handleOnUpdateProduct(e),\n          className: \"btn-success px-3 py-1 rounded\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UpdateProduct, \"uLJRYNeiJEPgJlf5OEA28N4QW8s=\");\n\n_c = UpdateProduct;\nexport default UpdateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProduct\");","map":{"version":3,"sources":["C:/Users/ghaahm/frontend/src/Components/pages/UpdateProduct.js"],"names":["React","useContext","useEffect","ProductContext","UserContext","Form","useState","UpdateProduct","props","proId","productId","theProduct","setTheProduct","user","setUser","products","setProducts","console","log","handleOnUpdateProduct","e","preventDefault","name","document","getElementById","value","cost","amount","newProduct","productName","amountAvailable","sellerId","_id","prd","objIndex","findIndex","obj","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","json","data","alert","style","display"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { ProductContext, UserContext } from \"../../App\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { useState } from \"react\";\r\nconst UpdateProduct = (props) => {\r\n    const proId = props.productId;\r\n    const [theProduct, setTheProduct] = useState({});\r\n    const [user, setUser] = useContext(UserContext);\r\n    const [products, setProducts] = useContext(ProductContext)\r\n    console.log(proId);\r\n\r\n  const handleOnUpdateProduct = (e) => {\r\n    e.preventDefault();\r\n    const name = document.getElementById(\"pname\").value;\r\n    const cost = document.getElementById(\"pcost\").value;\r\n    const amount = document.getElementById(\"pamount\").value;\r\n    const newProduct = {\r\n      productName: name,\r\n      cost: cost,\r\n      amountAvailable: amount,\r\n      sellerId: user._id,\r\n    };\r\n    //update in local\r\n    const prd = [...products];\r\n    const objIndex = prd.findIndex((obj => obj._id === proId));\r\n    console.log(objIndex)\r\n    prd[objIndex].productName = name;\r\n    prd[objIndex].cost = cost;\r\n    prd[objIndex].amountAvailable = amount;\r\n\r\n    console.log(prd)\r\n    setProducts(prd)\r\n    //update in server\r\n    const requestOptions = {\r\n      method: \"PATCH\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(newProduct),\r\n    };\r\n    fetch(\r\n      `http://localhost:3005/api/products/update/${proId}`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.json())\r\n      .then((data) => console.log(data));\r\n     \r\n \r\n      alert('Product Updated Successfully');\r\n      document.getElementById('productTable').style.display = 'block';\r\n      document.getElementById('updateProductForm').style.display = 'none';\r\n  };\r\n  return (\r\n    <div>\r\n      <h3>Update Product</h3>\r\n      <Form id=\"registrationForm\">\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Product Name</Form.Label>\r\n          <Form.Control id=\"pname\" type=\"text\" required value={theProduct.productName} placeholder=\"Pencil Box\" />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Product Cost</Form.Label>\r\n          <Form.Control type=\"text\" id=\"pcost\" placeholder=\"10\" required />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Available Amount</Form.Label>\r\n          <Form.Control type=\"text\" id=\"pamount\" placeholder=\"10\" required />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3 \">\r\n          <button\r\n            onClick={(e) => handleOnUpdateProduct(e)}\r\n            className=\"btn-success px-3 py-1 rounded\"\r\n          >\r\n            Submit\r\n          </button>\r\n        </Form.Group>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n"]},"metadata":{},"sourceType":"module"}