[{"C:\\Users\\ghaahm\\frontend\\src\\index.js":"1","C:\\Users\\ghaahm\\frontend\\src\\reportWebVitals.js":"2","C:\\Users\\ghaahm\\frontend\\src\\App.js":"3","C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Home.js":"4","C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Dashboard.js":"5","C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Login.js":"6","C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Registration.js":"7","C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Cart.js":"8","C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\UpdateProduct.js":"9","C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\LoginForm.js":"10","C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\NavBar.js":"11","C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\UserStatus.js":"12","C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\SessionViewer.js":"13","C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\RegistrationForm.js":"14"},{"size":548,"mtime":1648602448000,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":499176900000,"results":"17","hashOfConfig":"16"},{"size":1679,"mtime":1648817370000,"results":"18","hashOfConfig":"16"},{"size":4234,"mtime":1648822520000,"results":"19","hashOfConfig":"16"},{"size":11363,"mtime":1648821148000,"results":"20","hashOfConfig":"16"},{"size":970,"mtime":1648781932000,"results":"21","hashOfConfig":"16"},{"size":311,"mtime":1648681496000,"results":"22","hashOfConfig":"16"},{"size":4453,"mtime":1648810954000,"results":"23","hashOfConfig":"16"},{"size":2750,"mtime":1648787500000,"results":"24","hashOfConfig":"16"},{"size":2569,"mtime":1648829031995,"results":"25","hashOfConfig":"16"},{"size":1255,"mtime":1648804866000,"results":"26","hashOfConfig":"16"},{"size":1672,"mtime":1648815192000,"results":"27","hashOfConfig":"16"},{"size":2053,"mtime":1648830218668,"results":"28","hashOfConfig":"16"},{"size":2635,"mtime":1648781932000,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"pc2pj9",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\ghaahm\\frontend\\src\\index.js",[],[],"C:\\Users\\ghaahm\\frontend\\src\\reportWebVitals.js",[],[],"C:\\Users\\ghaahm\\frontend\\src\\App.js",[],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Home.js",["74","75","76","77","78"],[],"import React, { useContext, useEffect, useState } from \"react\";\r\nimport { ProductContext, UserContext } from \"../../App\";\r\nimport LoginForm from \"../Others/LoginForm\";\r\nimport NavBar from \"../Others/NavBar\";\r\nimport UserStatus from \"../Others/UserStatus\";\r\nimport \"./CommonStyle.css\";\r\n\r\nconst Home = () => {\r\n  const [products, setProducts] = useContext(ProductContext);\r\n  const [user, setUser] = useContext(UserContext);\r\n  \r\n  const [session, setSession] = useState({});\r\n\r\n  useEffect(() => {\r\n    const session = JSON.parse(localStorage.getItem(\"session\"));\r\n    console.log(session);\r\n    if (session?.key) {\r\n      setSession(session);\r\n      fetch(\r\n        `http://localhost:3005/api/users/verify-session/${session.key}/${session.user.email}`\r\n      )\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          console.log(data);\r\n          if (!data.forceLogout) {\r\n            setSession({ ...session, user: data.user });\r\n          }\r\n          else {\r\n            setSession({});\r\n            console.log('session destroyed')\r\n          }\r\n        });\r\n    }\r\n    fetch(\"http://localhost:3005/api/products/all\")\r\n      .then((res) => res.json())\r\n      .then((data) => setProducts(data));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (session.key) {\r\n      setUser(session.user);\r\n    }\r\n  }, [session]);\r\n\r\n  const handleOnToCart = (e, pid) => {\r\n    e.preventDefault();\r\n    const thePd = products.find((pd) => pd._id === pid);\r\n    let totalPrice = 0;\r\n    user.cart.map((it) => {\r\n      totalPrice = totalPrice + it.cost;\r\n    });\r\n    console.log(totalPrice + thePd.cost, \"asd\", user.deposit);\r\n    if (user.username) {\r\n      if (user.role === \"seller\") {\r\n        alert(\"Please Login With an Buyer ID\");\r\n      } else if (user.role === \"buyer\") {\r\n        if (thePd.amountAvailable <= 0) {\r\n          alert(\"Out of Stock\");\r\n        } else if (totalPrice + thePd.cost > user.deposit) {\r\n          alert(\"Insufficient Balance\");\r\n        } else {\r\n          console.log(\"on click\");\r\n          e.preventDefault();\r\n          const requestOptions = {\r\n            method: \"PATCH\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              pid: pid,\r\n            }),\r\n          };\r\n          fetch(\r\n            `http://localhost:3005/api/users/addToCart/${user._id}`,\r\n            requestOptions\r\n          )\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n              setUser(data);\r\n              console.log(\"Element added to cart\");\r\n            });\r\n        }\r\n      }\r\n    } else {\r\n      alert(\"Please Login First\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <NavBar></NavBar>\r\n      {user?.username && <UserStatus />}\r\n\r\n      <div className=\"container\">\r\n        {products?<div className=\"row d-flex justify-content-center\">\r\n          {products.map((pd) => (\r\n            <div\r\n              key={Math.random() + Date.now()}\r\n              className=\"col-md-6 col-lg-3 py-3 product \"\r\n            >\r\n              {}\r\n              <h3 className=\"d-flex justify-content-center align-items-center\">\r\n                {pd.productName}\r\n              </h3>\r\n              <h4 className=\"d-flex justify-content-center align-items-center\">\r\n                Cost: {pd.cost}\r\n              </h4>\r\n              <h4 className=\"d-flex justify-content-center align-items-center\">\r\n                Available:{pd.amountAvailable}\r\n              </h4>\r\n              {/* <h4  className=\"d-flex justify-content-center align-items-center\">SID: {pd.sellerId}</h4> */}\r\n              <h6 className=\"d-flex justify-content-center align-items-center\">\r\n                <button\r\n                  onClick={(e) => handleOnToCart(e, pd._id)}\r\n                  value={pd.cost}\r\n                  className=\"btn-success rounded px-2 py-1\"\r\n                >\r\n                  Add To Cart\r\n                </button>\r\n              </h6>\r\n            </div>\r\n          ))}\r\n        </div> : <div className=\"d-flex justify-content-center\">\r\n          <img src=\"https://cdn.dribbble.com/users/1186261/screenshots/3718681/_______.gif\"/>\r\n        </div>}\r\n          \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n",["79","80"],"C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Dashboard.js",["81"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Login.js",["82","83","84"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Registration.js",[],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\Cart.js",["85","86"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\pages\\UpdateProduct.js",["87","88","89"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\LoginForm.js",["90"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\NavBar.js",["91"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\UserStatus.js",["92"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\SessionViewer.js",["93","94"],[],"C:\\Users\\ghaahm\\frontend\\src\\Components\\Others\\RegistrationForm.js",["95"],[],{"ruleId":"96","severity":1,"message":"97","line":3,"column":8,"nodeType":"98","messageId":"99","endLine":3,"endColumn":17},{"ruleId":"100","severity":1,"message":"101","line":37,"column":6,"nodeType":"102","endLine":37,"endColumn":8,"suggestions":"103"},{"ruleId":"100","severity":1,"message":"104","line":43,"column":6,"nodeType":"102","endLine":43,"endColumn":15,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":49,"column":24,"nodeType":"108","messageId":"109","endLine":49,"endColumn":26},{"ruleId":"110","severity":1,"message":"111","line":122,"column":11,"nodeType":"112","endLine":122,"endColumn":94},{"ruleId":"113","replacedBy":"114"},{"ruleId":"115","replacedBy":"116"},{"ruleId":"100","severity":1,"message":"104","line":46,"column":6,"nodeType":"102","endLine":46,"endColumn":15,"suggestions":"117"},{"ruleId":"96","severity":1,"message":"118","line":7,"column":16,"nodeType":"98","messageId":"99","endLine":7,"endColumn":23},{"ruleId":"96","severity":1,"message":"119","line":8,"column":10,"nodeType":"98","messageId":"99","endLine":8,"endColumn":15},{"ruleId":"96","severity":1,"message":"120","line":8,"column":17,"nodeType":"98","messageId":"99","endLine":8,"endColumn":25},{"ruleId":"100","severity":1,"message":"104","line":39,"column":6,"nodeType":"102","endLine":39,"endColumn":15,"suggestions":"121"},{"ruleId":"106","severity":1,"message":"107","line":44,"column":24,"nodeType":"108","messageId":"109","endLine":44,"endColumn":26},{"ruleId":"96","severity":1,"message":"122","line":1,"column":29,"nodeType":"98","messageId":"99","endLine":1,"endColumn":38},{"ruleId":"96","severity":1,"message":"123","line":7,"column":24,"nodeType":"98","messageId":"99","endLine":7,"endColumn":37},{"ruleId":"96","severity":1,"message":"118","line":8,"column":18,"nodeType":"98","messageId":"99","endLine":8,"endColumn":25},{"ruleId":"96","severity":1,"message":"124","line":60,"column":9,"nodeType":"98","messageId":"99","endLine":60,"endColumn":19},{"ruleId":"96","severity":1,"message":"118","line":6,"column":16,"nodeType":"98","messageId":"99","endLine":6,"endColumn":23},{"ruleId":"96","severity":1,"message":"118","line":5,"column":16,"nodeType":"98","messageId":"99","endLine":5,"endColumn":23},{"ruleId":"96","severity":1,"message":"125","line":5,"column":10,"nodeType":"98","messageId":"99","endLine":5,"endColumn":14},{"ruleId":"96","severity":1,"message":"118","line":5,"column":16,"nodeType":"98","messageId":"99","endLine":5,"endColumn":23},{"ruleId":"96","severity":1,"message":"126","line":9,"column":10,"nodeType":"98","messageId":"99","endLine":9,"endColumn":13},"no-unused-vars","'LoginForm' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setProducts'. Either include it or remove the dependency array.","ArrayExpression",["127"],"React Hook useEffect has a missing dependency: 'setUser'. Either include it or remove the dependency array.",["128"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-native-reassign",["129"],"no-negated-in-lhs",["130"],["131"],"'setUser' is assigned a value but never used.","'carts' is assigned a value but never used.","'setCarts' is assigned a value but never used.",["132"],"'useEffect' is defined but never used.","'setTheProduct' is assigned a value but never used.","'checkLogin' is assigned a value but never used.","'user' is assigned a value but never used.","'usr' is assigned a value but never used.",{"desc":"133","fix":"134"},{"desc":"135","fix":"136"},"no-global-assign","no-unsafe-negation",{"desc":"135","fix":"137"},{"desc":"135","fix":"138"},"Update the dependencies array to be: [setProducts]",{"range":"139","text":"140"},"Update the dependencies array to be: [session, setUser]",{"range":"141","text":"142"},{"range":"143","text":"142"},{"range":"144","text":"142"},[1224,1226],"[setProducts]",[1319,1328],"[session, setUser]",[1524,1533],[1180,1189]]